webpackJsonp([1],{C4mA:function(e,t){},LDrj:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("7+uW"),s={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"main"}},[t("router-view")],1)},staticRenderFns:[]},i=a("VU/8")(null,s,!1,null,null,null).exports,r=a("/ocq"),o=a("mvHQ"),n=a.n(o),d={name:"App",data:function(){return{helloMsg:"",addMsg:"",deleteMsg:"",updateOldMsg:"",updateNewMsg:""}},methods:{helloQueryBtnClick:function(){var e=this;fetch("/hello",{method:"get"}).then(function(e){return e.json()}).then(function(t){return e.helloMsg=n()(t.content)})},helloAddBtnClick:function(){""===this.addMsg?alert("无法插入空值"):fetch("/hello/add?msg="+this.addMsg,{method:"get"}).then(this.helloQueryBtnClick)},helloDeleteBtnClick:function(){fetch("/hello/delete?msg="+this.deleteMsg,{method:"get"}).then(this.helloQueryBtnClick)},helloUpdateBtnClick:function(){fetch("/hello/update?oldMsg="+this.updateOldMsg+"&newMsg="+this.updateNewMsg,{method:"get"}).then(this.helloQueryBtnClick)}}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"main"}},[a("div",{attrs:{id:"helloQuery"}},[a("h1",[e._v("  工资管理系统")]),e._v(" "),a("button",{attrs:{id:"helloQueryBtn"},on:{click:e.helloQueryBtnClick}},[e._v("查询")]),e._v(" "),a("a",[e._v(e._s(e.helloMsg))])]),e._v(" "),a("div",{attrs:{id:"helloAdd"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.addMsg,expression:"addMsg"}],attrs:{placeholder:"待插入文本",type:"text"},domProps:{value:e.addMsg},on:{input:function(t){t.target.composing||(e.addMsg=t.target.value)}}}),e._v(" "),a("button",{attrs:{id:"helloAddBtn"},on:{click:e.helloAddBtnClick}},[e._v("添加")])]),e._v(" "),a("div",{attrs:{id:"helloDelete"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.deleteMsg,expression:"deleteMsg"}],attrs:{placeholder:"待删除文本",type:"text"},domProps:{value:e.deleteMsg},on:{input:function(t){t.target.composing||(e.deleteMsg=t.target.value)}}}),e._v(" "),a("button",{attrs:{id:"helloDeleteBtn"},on:{click:e.helloDeleteBtnClick}},[e._v("删除")])]),e._v(" "),a("div",{attrs:{id:"helloUpdate"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.updateOldMsg,expression:"updateOldMsg"}],attrs:{placeholder:"修改前",type:"text"},domProps:{value:e.updateOldMsg},on:{input:function(t){t.target.composing||(e.updateOldMsg=t.target.value)}}}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.updateNewMsg,expression:"updateNewMsg"}],attrs:{placeholder:"修改后",type:"text"},domProps:{value:e.updateNewMsg},on:{input:function(t){t.target.composing||(e.updateNewMsg=t.target.value)}}}),e._v(" "),a("button",{attrs:{id:"helloUpdateBtn"},on:{click:e.helloUpdateBtnClick}},[e._v("修改")])])])},staticRenderFns:[]};var m=a("VU/8")(d,c,!1,function(e){a("sAKk")},"data-v-61c70c10",null).exports,u={name:"App",data:function(){return{userName:"",password:""}},methods:{loginBtnClick:function(){var e=this;fetch("/login?uid="+this.userName+"&ans="+this.password,{method:"get"}).then(function(e){return e.json()}).then(function(t){return e.checkLogin(t)})},checkLogin:function(e){"200"===n()(e.status)?(this.$cookies.set("userName",this.userName),this.$router.push("/Sheet")):alert(n()(e.content))}}},p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-root"},[a("div",{staticClass:"box-root flex-flex flex-direction--column",staticStyle:{"min-height":"100vh","flex-grow":"1"}},[e._m(0),e._v(" "),a("div",{staticClass:"box-root padding-top--24 flex-flex flex-direction--column",staticStyle:{"flex-grow":"1","z-index":"9"}},[e._m(1),e._v(" "),a("div",{staticClass:"formbg-outer"},[a("div",{staticClass:"formbg"},[a("div",{staticClass:"formbg-inner padding-horizontal--48"},[a("div",{attrs:{id:"stripe-login"}},[a("div",{staticClass:"field padding-bottom--24"},[a("label",[e._v("用户名")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.userName,expression:"userName"}],staticClass:"nameInput",attrs:{type:"text"},domProps:{value:e.userName},on:{input:function(t){t.target.composing||(e.userName=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"field padding-bottom--24"},[e._m(2),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"passwordInput",attrs:{type:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e._v(" "),e._m(3),e._v(" "),a("div",{staticClass:"field padding-bottom--24"},[a("button",{attrs:{id:"loginBtn"},on:{click:e.loginBtnClick}},[e._v("登录")])])])])]),e._v(" "),e._m(4)])])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"loginbackground box-background--white padding-top--64"},[a("div",{staticClass:"loginbackground-gridContainer"},[a("div",{staticClass:"box-root flex-flex",staticStyle:{"grid-area":"top / start / 8 / end"}},[a("div",{staticClass:"box-root",staticStyle:{"background-image":"linear-gradient(white 0%, rgb(247, 250, 252) 33%)","flex-grow":"1"}})]),e._v(" "),a("div",{staticClass:"box-root flex-flex",staticStyle:{"grid-area":"4 / 2 / auto / 5"}},[a("div",{staticClass:"box-root box-divider--light-all-2 animationLeftRight tans3s",staticStyle:{"flex-grow":"1"}})]),e._v(" "),a("div",{staticClass:"box-root flex-flex",staticStyle:{"grid-area":"6 / start / auto / 2"}},[a("div",{staticClass:"box-root box-background--blue800",staticStyle:{"flex-grow":"1"}})]),e._v(" "),a("div",{staticClass:"box-root flex-flex",staticStyle:{"grid-area":"7 / start / auto / 4"}},[a("div",{staticClass:"box-root box-background--blue animationLeftRight",staticStyle:{"flex-grow":"1"}})]),e._v(" "),a("div",{staticClass:"box-root flex-flex",staticStyle:{"grid-area":"8 / 4 / auto / 6"}},[a("div",{staticClass:"box-root box-background--gray100 animationLeftRight tans3s",staticStyle:{"flex-grow":"1"}})]),e._v(" "),a("div",{staticClass:"box-root flex-flex",staticStyle:{"grid-area":"2 / 15 / auto / end"}},[a("div",{staticClass:"box-root box-background--cyan200 animationRightLeft tans4s",staticStyle:{"flex-grow":"1"}})]),e._v(" "),a("div",{staticClass:"box-root flex-flex",staticStyle:{"grid-area":"3 / 14 / auto / end"}},[a("div",{staticClass:"box-root box-background--blue animationRightLeft",staticStyle:{"flex-grow":"1"}})]),e._v(" "),a("div",{staticClass:"box-root flex-flex",staticStyle:{"grid-area":"4 / 17 / auto / 20"}},[a("div",{staticClass:"box-root box-background--gray100 animationRightLeft tans4s",staticStyle:{"flex-grow":"1"}})]),e._v(" "),a("div",{staticClass:"box-root flex-flex",staticStyle:{"grid-area":"5 / 14 / auto / 17"}},[a("div",{staticClass:"box-root box-divider--light-all-2 animationRightLeft tans3s",staticStyle:{"flex-grow":"1"}})])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"box-root padding-top--48 padding-bottom--24 flex-flex flex-justifyContent--center"},[t("h1",[t("a",{attrs:{href:"http://blog.stackfindover.com/",rel:"dofollow"}},[this._v("工资管理系统")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"grid--50-50"},[t("label",[this._v("密码")]),this._v(" "),t("div",{staticClass:"reset-pass"},[t("a",{attrs:{href:"#"}},[this._v("Forgot your password?")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"field field-checkbox padding-bottom--24 flex-flex align-center"},[t("label",[t("input",{attrs:{type:"checkbox",name:"checkbox"}}),this._v(" 一周免登录\n                ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"footer-link padding-top--24"},[a("span",[e._v("Don't have an account? "),a("a",{attrs:{href:"#"}},[e._v("Sign up")])]),e._v(" "),a("div",{staticClass:"listing padding-top--24 padding-bottom--24 flex-flex center-center"},[a("span",[a("a",{attrs:{href:"#"}},[e._v("© PayRollSystem")])]),e._v(" "),a("span",[a("a",{attrs:{href:"#"}},[e._v("qq2388521275")])]),e._v(" "),a("span",[a("a",{attrs:{href:"#"}},[e._v("Privacy & terms")])])])])}]};var h=a("VU/8")(u,p,!1,function(e){a("WI4c")},"data-v-2fb82a23",null).exports,f={name:"app",data:function(){return{cards:{Mon:{start:"",end:"",aid:null,commit:0},Tue:{start:"",end:"",aid:null,commit:0},Wed:{start:"",end:"",aid:null,commit:0},Thu:{start:"",end:"",aid:null,commit:0},Fri:{start:"",end:"",aid:null,commit:0}},sheetVO:[],loading:!1}},created:function(){this.querySheet(this.$cookies.get("userName"))},methods:{querySheet:function(e){var t=this;this.loading=!0,fetch("/apis/Sheet/query?eid="+e,{method:"get"}).then(function(e){return e.json()}).then(function(e){return t.parseQuery(e.content)}).then(function(){return t.loading=!1}).catch(function(e){t.loading=!1,t.$message.error("读取考勤卡失败")})},parseQuery:function(e){var t=this;e.forEach(function(e,a){if(null!=e)switch(a){case 0:t.cards.Mon.start=e.workstart,t.cards.Mon.end=e.workend,t.cards.Mon.aid=e.aid,t.cards.Mon.commit=e.commit;break;case 1:t.cards.Tue.start=e.workstart,t.cards.Tue.end=e.workend,t.cards.Tue.aid=e.aid,t.cards.Tue.commit=e.commit;break;case 2:t.cards.Wed.start=e.workstart,t.cards.Wed.end=e.workend,t.cards.Wed.aid=e.aid,t.cards.Wed.commit=e.commit;break;case 3:t.cards.Thu.start=e.workstart,t.cards.Thu.end=e.workend,t.cards.Thu.aid=e.aid,t.cards.Thu.commit=e.commit;break;case 4:t.cards.Fri.start=e.workstart,t.cards.Fri.end=e.workend,t.cards.Fri.aid=e.aid,t.cards.Fri.commit=e.commit}}),this.checkCommitted()},checkCommitted:function(){var e=(new Date).getDay();0===e&&(e=7),(1===this.cards.Mon.commit||e<1)&&(document.getElementById("MonSubmit").disabled=!0,this.cards.Mon.commit=1),(1===this.cards.Tue.commit||e<2)&&(document.getElementById("TueSubmit").disabled=!0,this.cards.Tue.commit=1),(1===this.cards.Wed.commit||e<3)&&(document.getElementById("WedSubmit").disabled=!0,this.cards.Wed.commit=1),(1===this.cards.Thu.commit||e<4)&&(document.getElementById("ThuSubmit").disabled=!0,this.cards.Thu.commit=1),(1===this.cards.Fri.commit||e<5)&&(document.getElementById("FriSubmit").disabled=!0,this.cards.Fri.commit=1)},confirmSubmit:function(e){!0===window.confirm("确认提交吗，提交后将不可修改")&&this.submitOneCard(e)},submitOneCard:function(e){var t=this;switch(e){case 1:null==this.cards.Mon.aid?fetch("/apis/Sheet/add?eid="+this.$cookies.get("userName")+"&workstart="+this.cards.Mon.start+"&workend="+this.cards.Mon.end+"&weekday=1&commit=1",{method:"get"}):fetch("/apis/Sheet/update?aid="+this.cards.Mon.aid+"&workstart="+this.cards.Mon.start+"&workend="+this.cards.Mon.end+"&commit=1",{method:"get"});break;case 2:null==this.cards.Tue.aid?fetch("/apis/Sheet/add?eid="+this.$cookies.get("userName")+"&workstart="+this.cards.Tue.start+"&workend="+this.cards.Tue.end+"&weekday=2&commit=1",{method:"get"}):fetch("/apis/Sheet/update?aid="+this.cards.Tue.aid+"&workstart="+this.cards.Tue.start+"&workend="+this.cards.Tue.end+"&commit=1",{method:"get"});break;case 3:null==this.cards.Wed.aid?fetch("/apis/Sheet/add?eid="+this.$cookies.get("userName")+"&workstart="+this.cards.Wed.start+"&workend="+this.cards.Wed.end+"&weekday=3&commit=1",{method:"get"}):fetch("/apis/Sheet/update?aid="+this.cards.Wed.aid+"&workstart="+this.cards.Wed.start+"&workend="+this.cards.Wed.end+"&commit=1",{method:"get"});break;case 4:null==this.cards.Thu.aid?fetch("/apis/Sheet/add?eid="+this.$cookies.get("userName")+"&workstart="+this.cards.Thu.start+"&workend="+this.cards.Thu.end+"&weekday=4&commit=1",{method:"get"}):fetch("/apis/Sheet/update?aid="+this.cards.Thu.aid+"&workstart="+this.cards.Thu.start+"&workend="+this.cards.Thu.end+"&commit=1",{method:"get"});break;case 5:null==this.cards.Fri.aid?fetch("/apis/Sheet/add?eid="+this.$cookies.get("userName")+"&workstart="+this.cards.Fri.start+"&workend="+this.cards.Fri.end+"&weekday=5&commit=1",{method:"get"}):fetch("/apis/Sheet/update?aid="+this.cards.Fri.aid+"&workstart="+this.cards.Fri.start+"&workend="+this.cards.Fri.end+"&commit=1",{method:"get"})}setTimeout(function(){t.querySheet(t.$cookies.get("userName"))},300)},saveAllCards:function(){var e=this;this.loading=!0,""!==this.cards.Mon.start&&""!==this.cards.Mon.commit&&1!==this.cards.Mon.commit&&(null==this.cards.Mon.aid?fetch("/apis/Sheet/add?eid="+this.$cookies.get("userName")+"&workstart="+this.cards.Mon.start+"&workend="+this.cards.Mon.end+"&weekday=1&commit=0",{method:"get"}):fetch("/apis/Sheet/update?aid="+this.cards.Mon.aid+"&workstart="+this.cards.Mon.start+"&workend="+this.cards.Mon.end+"&commit=0",{method:"get"})),""!==this.cards.Tue.start&&""!==this.cards.Tue.commit&&1!==this.cards.Tue.commit&&(null==this.cards.Tue.aid?fetch("/apis/Sheet/add?eid="+this.$cookies.get("userName")+"&workstart="+this.cards.Tue.start+"&workend="+this.cards.Tue.end+"&weekday=2&commit=0",{method:"get"}):fetch("/apis/Sheet/update?aid="+this.cards.Tue.aid+"&workstart="+this.cards.Tue.start+"&workend="+this.cards.Tue.end+"&commit=0",{method:"get"})),""!==this.cards.Wed.start&&""!==this.cards.Wed.commit&&1!==this.cards.Wed.commit&&(null==this.cards.Wed.aid?fetch("/apis/Sheet/add?eid="+this.$cookies.get("userName")+"&workstart="+this.cards.Wed.start+"&workend="+this.cards.Wed.end+"&weekday=3&commit=0",{method:"get"}):fetch("/apis/Sheet/update?aid="+this.cards.Wed.aid+"&workstart="+this.cards.Wed.start+"&workend="+this.cards.Wed.end+"&commit=0",{method:"get"})),""!==this.cards.Thu.start&&""!==this.cards.Thu.commit&&1!==this.cards.Thu.commit&&(null==this.cards.Thu.aid?fetch("/apis/Sheet/add?eid="+this.$cookies.get("userName")+"&workstart="+this.cards.Thu.start+"&workend="+this.cards.Thu.end+"&weekday=4&commit=0",{method:"get"}):fetch("/apis/Sheet/update?aid="+this.cards.Thu.aid+"&workstart="+this.cards.Thu.start+"&workend="+this.cards.Thu.end+"&commit=0",{method:"get"})),""!==this.cards.Fri.start&&""!==this.cards.Fri.commit&&1!==this.cards.Fri.commit&&(null==this.cards.Fri.aid?fetch("/apis/Sheet/add?eid="+this.$cookies.get("userName")+"&workstart="+this.cards.Fri.start+"&workend="+this.cards.Fri.end+"&weekday=5&commit=0",{method:"get"}):fetch("/apis/Sheet/update?aid="+this.cards.Fri.aid+"&workstart="+this.cards.Fri.start+"&workend="+this.cards.Fri.end+"&commit=0",{method:"get"})),setTimeout(function(){e.querySheet(e.$cookies.get("userName"),e.$message({message:"保存成功",type:"success"}))},400)}}},b={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"text-align":"center"},attrs:{id:"sheetMain"}},[a("div",{attrs:{id:"title"}},[a("h1",[e._v(e._s(this.$cookies.get("userName"))+"考勤卡")])]),e._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{id:"timeCards","element-loading-text":"拼命加载中"}},[a("table",{staticStyle:{width:"100%","text-align":"center","font-size":"30px"}},[e._m(0),e._v(" "),a("tbody",[a("tr",[a("td",[e._v("周一")]),e._v(" "),a("td",[a("el-time-select",{attrs:{placeholder:"上班时间","default-value":"10:00",disabled:e.cards.Mon.commit,"picker-options":{start:"07:00",step:"00:30",end:"21:30",maxTime:e.cards.Mon.end}},model:{value:e.cards.Mon.start,callback:function(t){e.$set(e.cards.Mon,"start",t)},expression:"cards.Mon.start"}})],1),e._v(" "),a("td",[a("el-time-select",{attrs:{placeholder:"下班时间","default-value":"20:00",disabled:e.cards.Mon.commit,"picker-options":{start:"07:30",step:"00:30",end:"22:00",minTime:e.cards.Mon.start}},model:{value:e.cards.Mon.end,callback:function(t){e.$set(e.cards.Mon,"end",t)},expression:"cards.Mon.end"}})],1),e._v(" "),a("td",[a("button",{attrs:{id:"MonSubmit"},on:{click:function(t){return e.confirmSubmit(1)}}},[e._v("提交")])])]),e._v(" "),a("tr",[a("td",[e._v("周二")]),e._v(" "),a("td",[a("el-time-select",{attrs:{placeholder:"上班时间","default-value":"10:00",disabled:e.cards.Tue.commit,"picker-options":{start:"07:00",step:"00:30",end:"21:30",maxTime:e.cards.Tue.end}},model:{value:e.cards.Tue.start,callback:function(t){e.$set(e.cards.Tue,"start",t)},expression:"cards.Tue.start"}})],1),e._v(" "),a("td",[a("el-time-select",{attrs:{placeholder:"下班时间","default-value":"20:00",disabled:e.cards.Tue.commit,"picker-options":{start:"07:30",step:"00:30",end:"22:00",minTime:e.cards.Tue.start}},model:{value:e.cards.Tue.end,callback:function(t){e.$set(e.cards.Tue,"end",t)},expression:"cards.Tue.end"}})],1),e._v(" "),a("td",[a("button",{attrs:{id:"TueSubmit"},on:{click:function(t){return e.confirmSubmit(2)}}},[e._v("提交")])])]),e._v(" "),a("tr",[a("td",[e._v("周三")]),e._v(" "),a("td",[a("el-time-select",{attrs:{placeholder:"上班时间","default-value":"10:00",disabled:e.cards.Wed.commit,"picker-options":{start:"07:00",step:"00:30",end:"21:30",maxTime:e.cards.Wed.end}},model:{value:e.cards.Wed.start,callback:function(t){e.$set(e.cards.Wed,"start",t)},expression:"cards.Wed.start"}})],1),e._v(" "),a("td",[a("el-time-select",{attrs:{placeholder:"下班时间","default-value":"20:00",disabled:e.cards.Wed.commit,"picker-options":{start:"07:30",step:"00:30",end:"22:00",minTime:e.cards.Wed.start}},model:{value:e.cards.Wed.end,callback:function(t){e.$set(e.cards.Wed,"end",t)},expression:"cards.Wed.end"}})],1),e._v(" "),a("td",[a("button",{attrs:{id:"WedSubmit"},on:{click:function(t){return e.confirmSubmit(3)}}},[e._v("提交")])])]),e._v(" "),a("tr",[a("td",[e._v("周四")]),e._v(" "),a("td",[a("el-time-select",{attrs:{placeholder:"上班时间","default-value":"10:00",disabled:e.cards.Thu.commit,"picker-options":{start:"07:00",step:"00:30",end:"21:30",maxTime:e.cards.Thu.end}},model:{value:e.cards.Thu.start,callback:function(t){e.$set(e.cards.Thu,"start",t)},expression:"cards.Thu.start"}})],1),e._v(" "),a("td",[a("el-time-select",{attrs:{placeholder:"下班时间","default-value":"20:00",disabled:e.cards.Thu.commit,"picker-options":{start:"07:30",step:"00:30",end:"22:00",minTime:e.cards.Thu.start}},model:{value:e.cards.Thu.end,callback:function(t){e.$set(e.cards.Thu,"end",t)},expression:"cards.Thu.end"}})],1),e._v(" "),a("td",[a("button",{attrs:{id:"ThuSubmit"},on:{click:function(t){return e.confirmSubmit(4)}}},[e._v("提交")])])]),e._v(" "),a("tr",[a("td",[e._v("周五")]),e._v(" "),a("td",[a("el-time-select",{attrs:{placeholder:"上班时间","default-value":"10:00",disabled:e.cards.Fri.commit,"picker-options":{start:"07:00",step:"00:30",end:"21:30",maxTime:e.cards.Fri.end}},model:{value:e.cards.Fri.start,callback:function(t){e.$set(e.cards.Fri,"start",t)},expression:"cards.Fri.start"}})],1),e._v(" "),a("td",[a("el-time-select",{attrs:{placeholder:"下班时间","default-value":"20:00",disabled:e.cards.Fri.commit,"picker-options":{start:"07:30",step:"00:30",end:"22:00",minTime:e.cards.Fri.start}},model:{value:e.cards.Fri.end,callback:function(t){e.$set(e.cards.Fri,"end",t)},expression:"cards.Fri.end"}})],1),e._v(" "),a("td",[a("button",{attrs:{id:"FriSubmit"},on:{click:function(t){return e.confirmSubmit(5)}}},[e._v("提交")])])])])]),e._v(" "),a("div",{attrs:{id:"saveCards"}},[a("button",{attrs:{id:"saveCardsBtn"},on:{click:e.saveAllCards}},[e._v("保存")])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("thead",[t("tr",[t("th"),this._v(" "),t("th",[this._v("上班时间")]),this._v(" "),t("th",[this._v("下班时间")]),this._v(" "),t("th",[this._v("操作")])])])}]};var v=a("VU/8")(f,b,!1,function(e){a("hgUh")},"data-v-4e376704",null).exports,g={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{staticClass:"main"},[a("el-aside",[a("el-menu",{staticClass:"el-menu-vertical",attrs:{"background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b",router:"false"}},[a("el-menu-item",{attrs:{index:"1",route:"/Sheet"}},[a("i",{staticClass:"el-icon-finished"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("考勤卡")])]),e._v(" "),a("el-submenu",{attrs:{index:"2"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-user-solid"}),e._v(" "),a("span",[e._v("用户管理")])]),e._v(" "),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"/employee/add"}},[a("i",{staticClass:"el-icon-circle-plus-outline"}),e._v("添加员工")]),e._v(" "),a("el-menu-item",{attrs:{index:"/employee/query"}},[a("i",{staticClass:"el-icon-search"}),e._v("查询员工信息")])],1)],2),e._v(" "),a("el-submenu",{attrs:{index:"3"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-s-order"}),e._v(" "),a("span",[e._v("销售账单管理")])]),e._v(" "),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"/order/add"}},[a("i",{staticClass:"el-icon-circle-plus-outline"}),e._v("添加订单")]),e._v(" "),a("el-menu-item",{attrs:{index:"/order/query"}},[a("i",{staticClass:"el-icon-search"}),e._v("查询订单")])],1)],2),e._v(" "),a("el-menu-item",{attrs:{index:"4",disabled:""}},[a("i",{staticClass:"el-icon-setting"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("导航四")])])],1)],1),e._v(" "),a("el-main",[a("router-view")],1)],1)},staticRenderFns:[]};var x=a("VU/8")({name:"Main",methods:{}},g,!1,function(e){a("LDrj")},"data-v-19673d56",null).exports,_={name:"Add",data:function(){var e=this;return{form:{eid:null,paytype:"带薪",salaryway:"自取",ename:null,esex:"男",eposition:null,department:null,phonenumber:null,email:null,tex_remission:0,timelimit:0,vacation_day:0,password:null,password1:null,hoursalary:null,salary:null,salaryrate:null},rules:{password1:[{validator:function(t,a,l){""===a?l(new Error("请再次输入密码")):a!==e.form.password?l(new Error("两次输入密码不一致!")):l()},trigger:"blur"}],salaryrate:[{pattern:/^(([1-9]{1}\d*)|(0{1}))(\.\d{1,2})?$/,message:"请输入大于两位的小数",trigger:"change"},{validator:function(e,t,a){t>1?a(new Error("请输入小于1的小数")):a()},trigger:"blur"}]},loading:!1}},methods:{onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.loading=!0;var a=new URLSearchParams;a.append("jsonString",n()(t.form)),fetch("/apis/employee/insert",{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8;"},body:a}).then(function(e){return e.json()}).then(function(e){return t.afterSubmit(e)})})},afterSubmit:function(e){this.loading=!1,"200"===n()(e.status)?this.$message.success("添加成功"):(console.error(e.content),this.$message.error(e.content))}}},y={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"form",staticStyle:{width:"80%"},attrs:{model:e.form,"label-width":"80px","label-position":"left","status-icon":"",rules:e.rules,"element-loading-text":"处理中"}},[a("el-form-item",{attrs:{label:"员工类型"}},[a("el-radio-group",{model:{value:e.form.paytype,callback:function(t){e.$set(e.form,"paytype",t)},expression:"form.paytype"}},[a("el-radio",{attrs:{label:"小时工"}},[e._v("小时工")]),e._v(" "),a("el-radio",{attrs:{label:"带薪"}},[e._v("带薪")]),e._v(" "),a("el-radio",{attrs:{label:"销售员"}},[e._v("销售员")])],1)],1),e._v(" "),"带薪"===e.form.paytype||"销售员"===e.form.paytype?a("el-form-item",{attrs:{label:"工资",prop:"salary",rules:[{type:"number",message:"请输入正确格式"}]}},[a("el-input",{staticStyle:{width:"12%"},attrs:{"auto-complete":"off",maxlength:"20",size:"small"},model:{value:e.form.salary,callback:function(t){e.$set(e.form,"salary",e._n(t))},expression:"form.salary"}})],1):e._e(),e._v(" "),"销售员"===e.form.paytype?a("el-form-item",{attrs:{label:"佣金率",prop:"salaryrate"}},[a("el-input",{staticStyle:{width:"10%"},attrs:{"auto-complete":"off",maxlength:"20",type:"float",size:"small"},model:{value:e.form.salaryrate,callback:function(t){e.$set(e.form,"salaryrate",t)},expression:"form.salaryrate"}}),e._v("\n    %\n  ")],1):e._e(),e._v(" "),"小时工"===e.form.paytype?a("el-form-item",{attrs:{label:"小时薪资",prop:"hoursalary",rules:[{type:"number",message:"请输入正确格式"}]}},[a("el-input",{staticStyle:{width:"10%"},attrs:{"auto-complete":"off",maxlength:"20",size:"small"},model:{value:e.form.hoursalary,callback:function(t){e.$set(e.form,"hoursalary",e._n(t))},expression:"form.hoursalary"}})],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"付款方式"}},[a("el-radio-group",{model:{value:e.form.salaryway,callback:function(t){e.$set(e.form,"salaryway",t)},expression:"form.salaryway"}},[a("el-radio",{attrs:{label:"自取"}},[e._v("自取")]),e._v(" "),a("el-radio",{attrs:{label:"邮寄支票"}},[e._v("邮寄支票")]),e._v(" "),a("el-radio",{attrs:{label:"转账"}},[e._v("转账")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"员工姓名"}},[a("el-input",{staticStyle:{width:"10%"},attrs:{type:"text",maxlength:"15"},model:{value:e.form.ename,callback:function(t){e.$set(e.form,"ename",t)},expression:"form.ename"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"员工性别"}},[a("el-radio-group",{model:{value:e.form.esex,callback:function(t){e.$set(e.form,"esex",t)},expression:"form.esex"}},[a("el-radio",{attrs:{label:"男"}},[e._v("男")]),e._v(" "),a("el-radio",{attrs:{label:"女"}},[e._v("女")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"职务"}},[a("el-input",{staticStyle:{width:"20%"},attrs:{type:"text",maxlength:"20"},model:{value:e.form.eposition,callback:function(t){e.$set(e.form,"eposition",t)},expression:"form.eposition"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"部门"}},[a("el-input",{staticStyle:{width:"20%"},attrs:{type:"text",maxlength:"20"},model:{value:e.form.department,callback:function(t){e.$set(e.form,"department",t)},expression:"form.department"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"电话",prop:"phonenumber",rules:[{type:"number",message:"请输入正确格式"}]}},[a("el-input",{staticStyle:{width:"20%"},attrs:{"auto-complete":"off",maxlength:"20",size:"small"},model:{value:e.form.phonenumber,callback:function(t){e.$set(e.form,"phonenumber",e._n(t))},expression:"form.phonenumber"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"电子邮件"}},[a("el-input",{staticStyle:{width:"20%"},attrs:{type:"text",maxlength:"20",size:"small"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"税收减免"}},[a("el-input",{staticStyle:{width:"5%"},attrs:{type:"text",maxlength:"20",size:"small"},model:{value:e.form.tex_remission,callback:function(t){e.$set(e.form,"tex_remission",t)},expression:"form.tex_remission"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"工时限制"}},[a("el-input",{staticStyle:{width:"5%"},attrs:{type:"text",maxlength:"20",size:"small"},model:{value:e.form.timelimit,callback:function(t){e.$set(e.form,"timelimit",t)},expression:"form.timelimit"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"年假"}},[a("el-input",{staticStyle:{width:"5%"},attrs:{type:"text",maxlength:"20",size:"small"},model:{value:e.form.vacation_day,callback:function(t){e.$set(e.form,"vacation_day",t)},expression:"form.vacation_day"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"登录名",prop:"eid",rules:[{required:!0,mes2222sage:"请输入登录名",trigger:"blur"}]}},[a("el-input",{staticStyle:{width:"20%"},attrs:{maxlength:"20",size:"small"},model:{value:e.form.eid,callback:function(t){e.$set(e.form,"eid",t)},expression:"form.eid"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密码",prop:"password",rules:[{required:!0,message:"请输入密码",trigger:"blur"}]}},[a("el-input",{staticStyle:{width:"20%"},attrs:{type:"password",maxlength:"20",size:"small","show-password":""},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"确认密码",prop:"password1"}},[a("el-input",{staticStyle:{width:"20%"},attrs:{type:"password",maxlength:"20",size:"small","show-password":""},model:{value:e.form.password1,callback:function(t){e.$set(e.form,"password1",t)},expression:"form.password1"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("添加员工")]),e._v(" "),a("el-button",[e._v("撤销")])],1)],1)},staticRenderFns:[]};var w=a("VU/8")(_,y,!1,function(e){a("C4mA")},"data-v-f636b7d0",null).exports,k={name:"Query",data:function(){return{tableData:[{}],loading:!1,dialogFormVisible:!1,dialogIndex:0,rules:{salaryrate:[{pattern:/^(([1-9]{1}\d*)|(0{1}))(\.\d{1,2})?$/,message:"请输入大于两位的小数",trigger:"blur"},{validator:function(e,t,a){t>1?a(new Error("请输入小于1的小数")):a()},trigger:"blur"}]}}},created:function(){this.queryEmployee()},methods:{queryEmployee:function(){var e=this;this.loading=!0,setTimeout(function(){fetch("/apis/employee/queryAll",{method:"get"}).then(function(e){return e.json()}).then(function(t){return e.tableData=t.content}).then(function(){return e.loading=!1}).catch(function(t){e.loading=!1,e.$message.error("读取员工失败")})},500)},deleteEmployee:function(e){var t=this;this.loading=!0,fetch("/apis/employee/delete?eid="+this.tableData[e].eid,{method:"get"}).then(function(){t.$message.success("删除成功")}).then(function(){t.queryEmployee()})},updateEmployee:function(){var e=this;this.dialogFormVisible=!1,this.loading=!0;var t=new URLSearchParams;t.append("jsonString",n()(this.tableData[this.dialogIndex])),fetch("/apis/employee/update",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8;"},body:t}).then(function(){e.$message.success("修改成功")}).then(function(){e.queryEmployee()})}}},S={render:function(){var e=this,t=this,a=t.$createElement,l=t._self._c||a;return l("el-container",[l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"",stripe:"","element-loading-text":"加载中"}},[l("el-table-column",{attrs:{prop:"eid",label:"用户名",width:"100"}}),t._v(" "),l("el-table-column",{attrs:{prop:"ename",label:"姓名",width:"90"}}),t._v(" "),l("el-table-column",{attrs:{prop:"password",label:"密码",width:"100"}}),t._v(" "),l("el-table-column",{attrs:{prop:"esex",label:"性别",width:"60"}}),t._v(" "),l("el-table-column",{attrs:{prop:"paytype",label:"员工类型",width:"80"}}),t._v(" "),l("el-table-column",{attrs:{prop:"salaryway",label:"支付方式",width:"100"}}),t._v(" "),l("el-table-column",{attrs:{prop:"eposition",label:"职位",width:"100"}}),t._v(" "),l("el-table-column",{attrs:{prop:"department",label:"部门",width:"100"}}),t._v(" "),l("el-table-column",{attrs:{prop:"phonenumber",label:"电话",width:"150"}}),t._v(" "),l("el-table-column",{attrs:{prop:"email",label:"邮件",width:"200"}}),t._v(" "),l("el-table-column",{attrs:{prop:"tex_remission",label:"税收减免",width:"80"}}),t._v(" "),l("el-table-column",{attrs:{prop:"timelimit",label:"工时限制",width:"80"}}),t._v(" "),l("el-table-column",{attrs:{prop:"vacation_day",label:"年假",width:"80"}}),t._v(" "),l("el-table-column",{attrs:{prop:"hoursalary",label:"小时工资",width:"80"}}),t._v(" "),l("el-table-column",{attrs:{prop:"salaryrate",label:"佣金率",width:"80"}}),t._v(" "),l("el-table-column",{attrs:{prop:"salary",label:"工资",width:"80"}}),t._v(" "),l("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.dialogIndex=e.$index,t.dialogFormVisible=!0}}},[t._v("编辑")]),t._v(" "),l("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.deleteEmployee(e.$index)}}},[t._v("删除")])]}}])})],1),t._v(" "),l("el-dialog",{attrs:{title:"编辑员工",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[l("el-form",{attrs:{model:t.tableData[t.dialogIndex],rules:t.rules}},[l("el-form-item",{attrs:{label:"员工类型"}},[l("el-radio-group",{model:{value:t.tableData[t.dialogIndex].paytype,callback:function(e){t.$set(t.tableData[t.dialogIndex],"paytype",e)},expression:"tableData[dialogIndex].paytype"}},[l("el-radio",{attrs:{label:"小时工"}},[t._v("小时工")]),t._v(" "),l("el-radio",{attrs:{label:"带薪"}},[t._v("带薪")]),t._v(" "),l("el-radio",{attrs:{label:"销售员"}},[t._v("销售员")])],1)],1),t._v(" "),"带薪"===t.tableData[t.dialogIndex].paytype||"销售员"===t.tableData[t.dialogIndex].paytype?l("el-form-item",{attrs:{label:"工资",prop:"salary",rules:[{type:"number",message:"请输入正确格式"}]}},[l("el-input",{staticStyle:{width:"12%"},attrs:{"auto-complete":"off",maxlength:"20",size:"small"},model:{value:t.tableData[t.dialogIndex].salary,callback:function(e){t.$set(t.tableData[t.dialogIndex],"salary",t._n(e))},expression:"tableData[dialogIndex].salary"}})],1):t._e(),t._v(" "),"销售员"===t.tableData[t.dialogIndex].paytype?l("el-form-item",{attrs:{label:"佣金率",prop:"salaryrate"}},[l("el-input",{staticStyle:{width:"10%"},attrs:{"auto-complete":"off",maxlength:"20",type:"float",size:"small"},model:{value:t.tableData[t.dialogIndex].salaryrate,callback:function(e){t.$set(t.tableData[t.dialogIndex],"salaryrate",e)},expression:"tableData[dialogIndex].salaryrate"}}),t._v("\n        %\n      ")],1):t._e(),t._v(" "),"小时工"===t.tableData[t.dialogIndex].paytype?l("el-form-item",{attrs:{label:"小时薪资",prop:"hoursalary",rules:[{type:"number",message:"请输入正确格式"}]}},[l("el-input",{staticStyle:{width:"10%"},attrs:{"auto-complete":"off",maxlength:"20",size:"small"},model:{value:t.tableData[t.dialogIndex].hoursalary,callback:function(e){t.$set(t.tableData[t.dialogIndex],"hoursalary",t._n(e))},expression:"tableData[dialogIndex].hoursalary"}})],1):t._e(),t._v(" "),l("el-form-item",{attrs:{label:"付款方式"}},[l("el-radio-group",{model:{value:t.tableData[t.dialogIndex].salaryway,callback:function(e){t.$set(t.tableData[t.dialogIndex],"salaryway",e)},expression:"tableData[dialogIndex].salaryway"}},[l("el-radio",{attrs:{label:"自取"}},[t._v("自取")]),t._v(" "),l("el-radio",{attrs:{label:"邮寄支票"}},[t._v("邮寄支票")]),t._v(" "),l("el-radio",{attrs:{label:"转账"}},[t._v("转账")])],1)],1),t._v(" "),l("el-form-item",{attrs:{label:"员工姓名"}},[l("el-input",{staticStyle:{width:"10%"},attrs:{type:"text",maxlength:"15"},model:{value:t.tableData[t.dialogIndex].ename,callback:function(e){t.$set(t.tableData[t.dialogIndex],"ename",e)},expression:"tableData[dialogIndex].ename"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"员工性别"}},[l("el-radio-group",{model:{value:t.tableData[t.dialogIndex].esex,callback:function(e){t.$set(t.tableData[t.dialogIndex],"esex",e)},expression:"tableData[dialogIndex].esex"}},[l("el-radio",{attrs:{label:"男"}},[t._v("男")]),t._v(" "),l("el-radio",{attrs:{label:"女"}},[t._v("女")])],1)],1),t._v(" "),l("el-form-item",{attrs:{label:"职务"}},[l("el-input",{staticStyle:{width:"20%"},attrs:{type:"text",maxlength:"20"},model:{value:t.tableData[t.dialogIndex].eposition,callback:function(e){t.$set(t.tableData[t.dialogIndex],"eposition",e)},expression:"tableData[dialogIndex].eposition"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"部门"}},[l("el-input",{staticStyle:{width:"20%"},attrs:{type:"text",maxlength:"20"},model:{value:t.tableData[t.dialogIndex].department,callback:function(e){t.$set(t.tableData[t.dialogIndex],"department",e)},expression:"tableData[dialogIndex].department"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"电话",rules:[{type:"number",message:"请输入正确格式"}]}},[l("el-input",{staticStyle:{width:"20%"},attrs:{"auto-complete":"off",maxlength:"20",size:"small"},model:{value:t.tableData[t.dialogIndex].phonenumber,callback:function(e){t.$set(t.tableData[t.dialogIndex],"phonenumber",e)},expression:"tableData[dialogIndex].phonenumber"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"电子邮件"}},[l("el-input",{staticStyle:{width:"20%"},attrs:{type:"text",maxlength:"20",size:"small"},model:{value:t.tableData[t.dialogIndex].email,callback:function(e){t.$set(t.tableData[t.dialogIndex],"email",e)},expression:"tableData[dialogIndex].email"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"税收减免"}},[l("el-input",{staticStyle:{width:"6%"},attrs:{type:"text",maxlength:"20",size:"small"},model:{value:t.tableData[t.dialogIndex].tex_remission,callback:function(e){t.$set(t.tableData[t.dialogIndex],"tex_remission",e)},expression:"tableData[dialogIndex].tex_remission"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"工时限制"}},[l("el-input",{staticStyle:{width:"6%"},attrs:{type:"text",maxlength:"20",size:"small"},model:{value:t.tableData[t.dialogIndex].timelimit,callback:function(e){t.$set(t.tableData[t.dialogIndex],"timelimit",e)},expression:"tableData[dialogIndex].timelimit"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"年假"}},[l("el-input",{staticStyle:{width:"6%"},attrs:{type:"text",maxlength:"20",size:"small"},model:{value:t.tableData[t.dialogIndex].vacation_day,callback:function(e){t.$set(t.tableData[t.dialogIndex],"vacation_day",e)},expression:"tableData[dialogIndex].vacation_day"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"登录名"}},[l("el-input",{staticStyle:{width:"20%"},attrs:{maxlength:"20",size:"small",disabled:""},model:{value:t.tableData[t.dialogIndex].eid,callback:function(e){t.$set(t.tableData[t.dialogIndex],"eid",e)},expression:"tableData[dialogIndex].eid"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"密码",prop:"password",rules:[{required:!0,message:"请输入密码",trigger:"blur"}]}},[l("el-input",{staticStyle:{width:"20%"},attrs:{type:"password",maxlength:"20",size:"small","show-password":""},model:{value:t.tableData[t.dialogIndex].password,callback:function(e){t.$set(t.tableData[t.dialogIndex],"password",e)},expression:"tableData[dialogIndex].password"}})],1)],1),t._v(" "),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(){e.dialogFormVisible=!1,e.queryEmployee}}},[t._v("取 消")]),t._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:t.updateEmployee}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]},$=a("VU/8")(k,S,!1,null,null,null).exports,D={name:"orderadd",data:function(){return{form:{ename:null,eid:null,date:"",pname:null,ptype:null,price:0,number:0,client_phone:null,client_address:null},loading:!1}},methods:{onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(e){t.loading=!0;var a=new URLSearchParams;a.append("form",n()(t.form)),fetch("/apis/order/add",{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8;"},body:a}).then(function(e){return e.json()}).then(function(e){return t.afterSubmit(e)})}}),console.log("submit!")},afterSubmit:function(e){this.loading=!1,"200"===n()(e.status)?this.$message.success("添加成功"):(console.error(e.content),this.$message.error(e.content))}}},I={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"form",staticStyle:{width:"80%"},attrs:{model:e.form,"label-width":"100px","label-position":"left","status-icon":"","element-loading-text":"处理中"}},[a("el-form-item",{staticStyle:{width:"20%"},attrs:{label:"销售员姓名",maxlength:"20",size:"small"}},[a("el-input",{model:{value:e.form.ename,callback:function(t){e.$set(e.form,"ename",t)},expression:"form.ename"}})],1),e._v(" "),a("el-form-item",{staticStyle:{width:"20%"},attrs:{label:"销售员编号",maxlength:"20",size:"small"}},[a("el-input",{model:{value:e.form.eid,callback:function(t){e.$set(e.form,"eid",t)},expression:"form.eid"}})],1),e._v(" "),a("el-form-item",{staticStyle:{width:"80%"},attrs:{label:"日期",maxlength:"300",size:"small"}},[a("el-col",{attrs:{span:11}},[a("el-date-picker",{staticStyle:{width:"40%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.form.date,callback:function(t){e.$set(e.form,"date",t)},expression:"form.date"}})],1)],1),e._v(" "),a("el-form-item",{staticStyle:{width:"20%"},attrs:{label:"产品名称",maxlength:"20",size:"small"}},[a("el-input",{model:{value:e.form.pname,callback:function(t){e.$set(e.form,"pname",t)},expression:"form.pname"}})],1),e._v(" "),a("el-form-item",{staticStyle:{width:"20%"},attrs:{label:"规格型号",maxlength:"20",size:"small"}},[a("el-input",{model:{value:e.form.ptype,callback:function(t){e.$set(e.form,"ptype",t)},expression:"form.ptype"}})],1),e._v(" "),a("el-form-item",{staticStyle:{width:"15%"},attrs:{label:"单价",prop:"price",size:"small",rules:[{type:"number",message:"请输入正确格式"}]}},[a("el-input",{model:{value:e.form.price,callback:function(t){e.$set(e.form,"price",e._n(t))},expression:"form.price"}})],1),e._v(" "),a("el-form-item",{staticStyle:{width:"15%"},attrs:{label:"数量",prop:"number",size:"small",rules:[{type:"number",message:"请输入正确格式"}]}},[a("el-input",{attrs:{size:"small"},model:{value:e.form.number,callback:function(t){e.$set(e.form,"number",e._n(t))},expression:"form.number"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"客户联系方式",prop:"client_phone",rules:[{type:"number",message:"请输入正确格式"}]}},[a("el-input",{staticStyle:{width:"20%"},attrs:{"auto-complete":"off",maxlength:"20",size:"small"},model:{value:e.form.client_phone,callback:function(t){e.$set(e.form,"client_phone",e._n(t))},expression:"form.client_phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"客户账单地址"}},[a("el-input",{model:{value:e.form.client_address,callback:function(t){e.$set(e.form,"client_address",t)},expression:"form.client_address"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("添加账单")]),e._v(" "),a("el-button",[e._v("撤销")])],1)],1)},staticRenderFns:[]},T=a("VU/8")(D,I,!1,null,null,null).exports,C={name:"OrderQuery",data:function(){return{form:{queryId:"",tableData:[{}]},loading:!1,dialogFormVisible:!1,dialogIndex:0}},methods:{queryOrder:function(){var e=this;this.loading=!0,setTimeout(function(){fetch("/apis/order/selectByName?eid="+e.form.queryId,{method:"get"}).then(function(e){return e.json()}).then(function(t){return e.judgeQuery(t)}).catch(function(t){e.loading=!1,e.$message.error("读取销售单失败")})},500)},judgeQuery:function(e){200!==e.status?this.$message.info("未查到信息"):this.form.tableData=e.content,this.loading=!1},deleteOrder:function(e){var t=this;this.loading=!0,fetch("/apis/order/delete?aid="+this.form.tableData[e].aid,{method:"get"}).then(function(){t.$message.success("删除成功"),t.form.tableData=[{}]}).then(function(){t.queryOrder()})},updateOrder:function(e){var t=this;this.dialogFormVisible=!1,this.loading=!0;var a=new URLSearchParams;a.append("jsonString",n()(this.form.tableData[this.dialogIndex])),fetch("/apis/order/update",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8;"},body:a}).then(function(){t.$message.success("修改成功")}).then(function(){t.queryOrder()})}}},M={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px","label-position":"left","status-icon":""}},[a("el-form-item",{staticStyle:{width:"40%"},attrs:{label:"查询",size:"small"}},[a("el-input",{attrs:{placeholder:"请输入用户id"},model:{value:e.form.queryId,callback:function(t){e.$set(e.form,"queryId",t)},expression:"form.queryId"}})],1),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.queryOrder()}}},[e._v("查询")]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.form.tableData,border:"",stripe:"","element-loading-text":"加载中"}},[a("el-table-column",{attrs:{prop:"aid",label:"销售清单ID",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ename",label:"销售员姓名",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"eid",label:"销售员编号",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"date",label:"日期",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"pname",label:"产品名称",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ptype",label:"产品型号",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"price",label:"单价",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{prop:"number",label:"数量",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{prop:"client_phone",label:"客户联系方式",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"client_address",label:"客户账单地址",width:"400"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.dialogIndex=t.$index,e.dialogFormVisible=!0}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.deleteOrder(t.$index)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑账单",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{attrs:{model:e.form.tableData[e.dialogIndex]}},[a("el-form-item",{staticStyle:{width:"20%"},attrs:{label:"销售员姓名",maxlength:"20",size:"small"}},[a("el-input",{model:{value:e.form.tableData[e.dialogIndex].ename,callback:function(t){e.$set(e.form.tableData[e.dialogIndex],"ename",t)},expression:"form.tableData[dialogIndex].ename"}})],1),e._v(" "),a("el-form-item",{staticStyle:{width:"20%"},attrs:{label:"销售员编号",maxlength:"20",size:"small"}},[a("el-input",{model:{value:e.form.tableData[e.dialogIndex].eid,callback:function(t){e.$set(e.form.tableData[e.dialogIndex],"eid",t)},expression:"form.tableData[dialogIndex].eid"}})],1),e._v(" "),a("el-form-item",{staticStyle:{width:"80%"},attrs:{label:"日期",maxlength:"300",size:"small"}},[a("el-col",{attrs:{span:11}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.form.tableData[e.dialogIndex].date,callback:function(t){e.$set(e.form.tableData[e.dialogIndex],"date",t)},expression:"form.tableData[dialogIndex].date"}})],1)],1),e._v(" "),a("el-form-item",{staticStyle:{width:"20%"},attrs:{label:"产品名称",maxlength:"20",size:"small"}},[a("el-input",{model:{value:e.form.tableData[e.dialogIndex].pname,callback:function(t){e.$set(e.form.tableData[e.dialogIndex],"pname",t)},expression:"form.tableData[dialogIndex].pname"}})],1),e._v(" "),a("el-form-item",{staticStyle:{width:"20%"},attrs:{label:"规格型号",maxlength:"20",size:"small"}},[a("el-input",{model:{value:e.form.tableData[e.dialogIndex].ptype,callback:function(t){e.$set(e.form.tableData[e.dialogIndex],"ptype",t)},expression:"form.tableData[dialogIndex].ptype"}})],1),e._v(" "),a("el-form-item",{staticStyle:{width:"20%"},attrs:{label:"单价",prop:"price",size:"small",rules:[{type:"number",message:"请输入正确格式"}]}},[a("el-input",{model:{value:e.form.tableData[e.dialogIndex].price,callback:function(t){e.$set(e.form.tableData[e.dialogIndex],"price",e._n(t))},expression:"form.tableData[dialogIndex].price"}})],1),e._v(" "),a("el-form-item",{staticStyle:{width:"20%"},attrs:{label:"数量",prop:"number",size:"small",rules:[{type:"number",message:"请输入正确格式"}]}},[a("el-input",{attrs:{size:"small"},model:{value:e.form.tableData[e.dialogIndex].number,callback:function(t){e.$set(e.form.tableData[e.dialogIndex],"number",e._n(t))},expression:"form.tableData[dialogIndex].number"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"客户联系方式",prop:"client_phone"}},[a("el-input",{staticStyle:{width:"20%"},attrs:{"auto-complete":"off",maxlength:"20",size:"small"},model:{value:e.form.tableData[e.dialogIndex].client_phone,callback:function(t){e.$set(e.form.tableData[e.dialogIndex],"client_phone",e._n(t))},expression:"form.tableData[dialogIndex].client_phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"客户账单地址"}},[a("el-input",{model:{value:e.form.tableData[e.dialogIndex].client_address,callback:function(t){e.$set(e.form.tableData[e.dialogIndex],"client_address",t)},expression:"form.tableData[dialogIndex].client_address"}})],1),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.updateOrder("form")}}},[e._v("更新账单")])],1)],1)],1)},staticRenderFns:[]};var F=a("VU/8")(C,M,!1,function(e){a("iMyn")},"data-v-c4ce328a",null).exports;l.default.use(r.a);var z=new r.a({routes:[{path:"/",component:h},{path:"/HelloWorld",component:m},{path:"/Main",component:x,children:[{path:"/Sheet",component:v},{path:"/employee/add",component:w},{path:"/employee/query",component:$},{path:"/order/add",component:T},{path:"/order/query",component:F}]}]}),N=a("ppUw"),W=a.n(N),E=a("7t+N"),q=a.n(E),B=a("zL8q"),R=a.n(B);a("tvR6");l.default.use(W.a),l.default.use(q.a),l.default.use(R.a),l.default.config.productionTip=!1,new l.default({el:"#app",router:z,components:{App:i},template:"<App/>"})},WI4c:function(e,t){},hgUh:function(e,t){},iMyn:function(e,t){},sAKk:function(e,t){},tvR6:function(e,t){}},["NHnr"]);